{"ast":null,"code":"import React,{useEffect,useState}from'react';import ProductCard from'./ProductCard';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function ProductList(_ref){let{addToCart}=_ref;const[products,setProducts]=useState([]);const[category,setCategory]=useState(\"all\");const[subcategory,setSubcategory]=useState(\"all\");useEffect(()=>{fetch('https://ecommerce-backend-ejce.onrender.com/api/products').then(res=>res.json()).then(data=>setProducts(data)).catch(err=>console.error('Failed to load products:',err));},[]);// FILTER LOGIC\nconst filteredProducts=products.filter(product=>{if(category!==\"all\"&&product.category!==category)return false;if(subcategory!==\"all\"&&product.subcategory!==subcategory)return false;return true;});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter-bar\",children:[\"all\",\"toiletries\",\"snacks\",\"cream\",\"desserts\",\"beverages\"].map(cat=>/*#__PURE__*/_jsx(\"button\",{className:\"filter-btn \".concat(category===cat?\"active\":\"\"),onClick:()=>{setCategory(cat);setSubcategory(\"all\");},children:cat.charAt(0).toUpperCase()+cat.slice(1)},cat))}),category===\"toiletries\"&&/*#__PURE__*/_jsx(\"div\",{className:\"sub-filter-bar\",children:[\"soaps\",\"toothpaste\"].map(sub=>/*#__PURE__*/_jsx(\"button\",{className:\"sub-filter-btn \".concat(subcategory===sub?\"active\":\"\"),onClick:()=>setSubcategory(sub),children:sub.replace(\"-\",\" \")},sub))}),category===\"snacks\"&&/*#__PURE__*/_jsx(\"div\",{className:\"sub-filter-bar\",children:[\"biscuits\",\"nuts\"].map(sub=>/*#__PURE__*/_jsx(\"button\",{className:\"sub-filter-btn \".concat(subcategory===sub?\"active\":\"\"),onClick:()=>setSubcategory(sub),children:sub.replace(\"-\",\" \")},sub))}),category===\"cream\"&&/*#__PURE__*/_jsx(\"div\",{className:\"sub-filter-bar\",children:[\"hair-cream\",\"body-cream\"].map(sub=>/*#__PURE__*/_jsx(\"button\",{className:\"sub-filter-btn \".concat(subcategory===sub?\"active\":\"\"),onClick:()=>setSubcategory(sub),children:sub.replace(\"-\",\" \")},sub))}),category===\"desserts\"&&/*#__PURE__*/_jsx(\"div\",{className:\"sub-filter-bar\",children:[\"frozen desserts\"].map(sub=>/*#__PURE__*/_jsx(\"button\",{className:\"sub-filter-btn \".concat(subcategory===sub?\"active\":\"\"),onClick:()=>setSubcategory(sub),children:sub.replace(\"-\",\" \")},sub))}),category===\"beverages\"&&/*#__PURE__*/_jsx(\"div\",{className:\"sub-filter-bar\",children:[\"cocoa and chocolate powder\",\"milk and diary powder\"].map(sub=>/*#__PURE__*/_jsx(\"button\",{className:\"sub-filter-btn \".concat(subcategory===sub?\"active\":\"\"),onClick:()=>setSubcategory(sub),children:sub.replace(\"-\",\" \")},sub))}),/*#__PURE__*/_jsx(\"div\",{className:\"product-list\",children:filteredProducts.length>0?filteredProducts.map(item=>/*#__PURE__*/_jsx(ProductCard,{product:item,addToCart:addToCart},item.id)):/*#__PURE__*/_jsx(\"p\",{children:\"Loading products...\"})})]});}export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","ProductCard","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProductList","_ref","addToCart","products","setProducts","category","setCategory","subcategory","setSubcategory","fetch","then","res","json","data","catch","err","console","error","filteredProducts","filter","product","children","className","map","cat","concat","onClick","charAt","toUpperCase","slice","sub","replace","length","item","id"],"sources":["C:/Users/acer/ecommerce-frontend/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ProductCard from './ProductCard';\r\n\r\nfunction ProductList({ addToCart }) {\r\n  const [products, setProducts] = useState([]);\r\n  const [category, setCategory] = useState(\"all\");\r\n  const [subcategory, setSubcategory] = useState(\"all\");\r\n\r\n  useEffect(() => {\r\n    fetch('https://ecommerce-backend-ejce.onrender.com/api/products')\r\n      .then(res => res.json())\r\n      .then(data => setProducts(data))\r\n      .catch(err => console.error('Failed to load products:', err));\r\n  }, []);\r\n\r\n  // FILTER LOGIC\r\n  const filteredProducts = products.filter(product => {\r\n    if (category !== \"all\" && product.category !== category) return false;\r\n    if (subcategory !== \"all\" && product.subcategory !== subcategory) return false;\r\n    return true;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {/* CATEGORY BUTTONS */}\r\n      <div className=\"filter-bar\">\r\n        {[\"all\", \"toiletries\", \"snacks\", \"cream\", \"desserts\", \"beverages\"].map(cat => (\r\n          <button\r\n            key={cat}\r\n            className={`filter-btn ${category === cat ? \"active\" : \"\"}`}\r\n            onClick={() => {\r\n            setCategory(cat);\r\n            setSubcategory(\"all\");\r\n            }}\r\n          >\r\n            {cat.charAt(0).toUpperCase() + cat.slice(1)}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* SUBCATEGORY BUTTONS */}\r\n      {category === \"toiletries\" && (\r\n        <div className=\"sub-filter-bar\">\r\n          {[\"soaps\", \"toothpaste\"].map(sub => (\r\n            <button\r\n              key={sub}\r\n              className={`sub-filter-btn ${subcategory === sub ? \"active\" : \"\"}`}\r\n              onClick={() => setSubcategory(sub)}\r\n            >\r\n              {sub.replace(\"-\", \" \")}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {category === \"snacks\" && (\r\n        <div className=\"sub-filter-bar\">\r\n          {[\"biscuits\", \"nuts\"].map(sub => (\r\n            <button\r\n              key={sub}\r\n              className={`sub-filter-btn ${subcategory === sub ? \"active\" : \"\"}`}\r\n              onClick={() => setSubcategory(sub)}\r\n            >\r\n              {sub.replace(\"-\", \" \")}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {category === \"cream\" && (\r\n        <div className=\"sub-filter-bar\">\r\n          {[\"hair-cream\", \"body-cream\"].map(sub => (\r\n            <button\r\n              key={sub}\r\n              className={`sub-filter-btn ${subcategory === sub ? \"active\" : \"\"}`}\r\n              onClick={() => setSubcategory(sub)}\r\n            >\r\n              {sub.replace(\"-\", \" \")}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {category === \"desserts\" && (\r\n        <div className=\"sub-filter-bar\">\r\n          {[\"frozen desserts\"].map(sub => (\r\n            <button\r\n              key={sub}\r\n              className={`sub-filter-btn ${subcategory === sub ? \"active\" : \"\"}`}\r\n              onClick={() => setSubcategory(sub)}\r\n            >\r\n              {sub.replace(\"-\", \" \")}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {category === \"beverages\" && (\r\n        <div className=\"sub-filter-bar\">\r\n          {[\"cocoa and chocolate powder\", \"milk and diary powder\"].map(sub => (\r\n            <button\r\n              key={sub}\r\n              className={`sub-filter-btn ${subcategory === sub ? \"active\" : \"\"}`}\r\n              onClick={() => setSubcategory(sub)}\r\n            >\r\n              {sub.replace(\"-\", \" \")}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* PRODUCT LIST */}\r\n      <div className=\"product-list\">\r\n        {filteredProducts.length > 0 ? (\r\n          filteredProducts.map(item => (\r\n            <ProductCard key={item.id} product={item} addToCart={addToCart} />\r\n          ))\r\n        ) : (\r\n          <p>Loading products...</p>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProductList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}